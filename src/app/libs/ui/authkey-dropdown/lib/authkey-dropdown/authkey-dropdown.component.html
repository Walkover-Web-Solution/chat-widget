<div class="d-flex align-items-start gap-3">
    <ng-container *ngIf="(authKeyAccess$ | async)?.status?.value === 1">
        <mat-form-field [ngClass]="matFormFieldClass">
            <mat-label>Select Authkey</mat-label>
            <mat-select [formControl]="authKeyFormControl" (selectionChange)="authKeySelectionChange.emit($event)">
                <div class="m-2">
                    <a
                        mat-flat-button
                        class="flat-primary-light w-100"
                        target="_blank"
                        [routerLink]="[
                            '/m',
                            'l',
                            {
                                outlets: {
                                    primary: ['settings', 'security', 'authkey'],
                                    navigationRouter: ['settings'],
                                },
                            },
                        ]"
                    >
                        <mat-icon class="mat-icon-prefix mat-icon-18">add</mat-icon>Create New Authkey
                    </a>
                </div>
                <mat-option disabled *ngIf="!(authkeys$ | async)?.data?.length">-- No Authkey Found --</mat-option>
                <ng-container *ngFor="let key of (authkeys$ | async)?.data">
                    <mat-option [value]="key.authkey" *ngIf="key?.status?.value === '1'">
                        {{ key.keyName }}
                    </mat-option>
                </ng-container>
            </mat-select>
        </mat-form-field>
        <button
            mat-mini-fab
            class="mt-1"
            (click)="getAuthkey()"
            matTooltip="Refresh"
            matTooltipPosition="above"
            [msg91ButtonLoader]="authKeysInProcess$ | async"
            [wrapperClass]="'mt-1'"
        >
            <mat-icon class="mat-icon-20" fontIcon="refresh"></mat-icon>
        </button>
    </ng-container>
    <button
        mat-flat-button
        class="flat-primary-light mb-3"
        (click)="getAuthkey()"
        *ngIf="(authKeyAccess$ | async)?.status?.value === 0"
    >
        Get Authkey
    </button>
</div>
