<p class="mat-body-1 fw-bolder m-0 text-dark">Add Inbox</p>

<mat-list class="pt-0 custom-nav-list default-list">
    <ng-container
        *ngFor="
            let company of !isLoading && !allInboxIsLoading ? (agentAllInboxes | async | keyvalue) : [1, 2, 3];
            let index = index
        "
    >
        <mat-list-item class="fw-bold mt-2 no-hover" style="height: 38px">
            <ng-container *msg91SkeletonLoader="isLoading || allInboxIsLoading; height: '48px'">
                {{ company?.value?.name }}
            </ng-container>
        </mat-list-item>
        <mat-list-item
            class="px-2 no-hover cursor-pointer"
            *ngFor="let inbox of company?.value?.inboxes"
            (click)="selectedInboxes[inbox.id + '-' + inbox?.type] = !selectedInboxes[inbox.id + '-' + inbox?.type]"
            style="height: 38px"
        >
            <ng-container *msg91SkeletonLoader="isLoading || allInboxIsLoading">
                <mat-checkbox
                    [value]="inbox.id + '-' + inbox?.type"
                    [(ngModel)]="selectedInboxes[inbox.id + '-' + inbox?.type]"
                    (click)="$event.preventDefault()"
                >
                    <span class="d-flex align-items-center gap-2 ml-2">
                        <span
                            matListIcon
                            class="p-0 font-12 fw-bolder text-capitalize text-dark-light"
                            style="width: 20px; height: 20px; line-height: 20px"
                        >
                            <img
                                width="20"
                                height="20"
                                src="assets/images/microservice-icon/chat.svg"
                                loading="lazy"
                                alt="Chat Icon"
                                *ngIf="inbox?.type === 'chat'"
                            />
                            <mat-icon
                                svgIcon="whatsapp-outline"
                                class="mat-icon-18 material-icons-outlined"
                                *ngIf="inbox?.type === 'whatsapp'"
                            ></mat-icon>
                            <mat-icon
                                class="mat-icon-20 text-muted material-icons-outlined"
                                *ngIf="inbox?.type === 'rcs'"
                                >chat</mat-icon
                            >
                            <img
                                width="20"
                                height="20"
                                src="assets/images/microservice-icon/lined/facebook-lined.svg"
                                loading="lazy"
                                alt="Facebook icon"
                                *ngIf="inbox?.type === 'fb'"
                            />
                            <img
                                width="20"
                                height="20"
                                src="assets/images/microservice-icon/instagram.png"
                                loading="lazy"
                                alt="Instagram icon"
                                *ngIf="inbox?.type === 'instagram'"
                            />
                            <img
                                width="20"
                                height="20"
                                src="assets/images/microservice-icon/lined/telegram-lined.svg"
                                loading="lazy"
                                alt="Telegram icon"
                                *ngIf="inbox?.type === 'telegram'"
                            />
                            <mat-icon
                                class="mat-icon-20 material-icons-outlined"
                                *ngIf="inbox?.type === 'google_business'"
                                >question_answer</mat-icon
                            >
                            <mat-icon
                                svgIcon="twitter"
                                class="mat-icon-20 material-icons-outlined"
                                *ngIf="inbox?.type === 'twitter'"
                            ></mat-icon>
                            <img
                                width="20"
                                height="20"
                                src="assets/images/microservice-icon/numbers.svg"
                                loading="lazy"
                                alt="Numbers"
                                *ngIf="inbox?.type === 'numbers'"
                            />
                            <mat-icon class="mat-icon-20 material-icons-outlined" *ngIf="inbox?.type === 'mail'"
                                >email</mat-icon
                            >
                        </span>
                        <span matLine class="menu-list-span menu-label mat-body-2">
                            {{ inbox?.name }}
                        </span>
                    </span>
                </mat-checkbox>
            </ng-container>
        </mat-list-item>
    </ng-container>
</mat-list>

<div class="d-flex align-items-center justify-content-end gap-3" *ngIf="!isLoading && !allInboxIsLoading">
    <button type="button" mat-button (click)="closeDialog()">Cancel</button>
    <button type="button" mat-flat-button color="primary" (click)="addInbox()">Add</button>
</div>
