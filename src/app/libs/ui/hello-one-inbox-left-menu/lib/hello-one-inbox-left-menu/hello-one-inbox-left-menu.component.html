<div class="default-sidenav hello-sidenav h-100 d-flex flex-column">
    <mat-nav-list>
        <ng-container *ngIf="agentOneInboxes | async as agentInboxes">
            <ng-container *ngFor="let company of agentInboxes | keyvalue">
                <a
                    *ngIf="showTooltip"
                    mat-list-item
                    href="javascript:void(0)"
                    [matTooltip]="showTooltip ? '' : company?.value?.name"
                    matTooltipPosition="right"
                >
                    <span matLine class="menu-list-span menu-label" style="font-size: 12px !important">
                        {{ company?.value?.name }}
                    </span>
                </a>
                <mat-nav-list dense>
                    <a
                        mat-list-item
                        *ngFor="let inbox of company?.value?.inboxes"
                        href="javascript:void(0)"
                        [ngClass]="{ 'active-list-item': +currentOneInboxID === +inbox?.id }"
                        (click)="redirectToInbox(inbox)"
                        [routerLink]=""
                        [matTooltip]="showTooltip ? '' : inbox?.name"
                        matTooltipPosition="right"
                        class="filter-list"
                    >
                        <span
                            matListIcon
                            class="p-0 font-12 fw-bolder text-capitalize text-dark-light"
                            style="width: 20px; height: 20px; line-height: 20px"
                        >
                            <img
                                width="20"
                                height="20"
                                src="assets/images/microservice-icon/chat.svg"
                                loading="lazy"
                                alt="Chat Icon"
                                *ngIf="inbox?.inbox_type === 'chat'"
                            />
                            <mat-icon
                                svgIcon="whatsapp-outline"
                                class="mat-icon-18 material-icons-outlined"
                                *ngIf="inbox?.inbox_type === 'whatsapp'"
                            ></mat-icon>
                            <mat-icon
                                class="mat-icon-20 text-muted material-icons-outlined"
                                *ngIf="inbox?.inbox_type === 'rcs'"
                                >chat</mat-icon
                            >
                            <img
                                width="20"
                                height="20"
                                src="assets/images/microservice-icon/lined/facebook-lined.svg"
                                loading="lazy"
                                alt="Facebook icon"
                                *ngIf="inbox?.inbox_type === 'fb'"
                            />
                            <img
                                width="20"
                                height="20"
                                src="assets/images/microservice-icon/instagram.png"
                                loading="lazy"
                                alt="Instagram icon"
                                *ngIf="inbox?.inbox_type === 'instagram'"
                            />
                            <img
                                width="20"
                                height="20"
                                src="assets/images/microservice-icon/lined/telegram-lined.svg"
                                loading="lazy"
                                alt="Telegram icon"
                                *ngIf="inbox?.inbox_type === 'telegram'"
                            />
                            <mat-icon
                                class="mat-icon-20 material-icons-outlined"
                                *ngIf="inbox?.inbox_type === 'google_business'"
                                >question_answer</mat-icon
                            >
                            <mat-icon
                                svgIcon="twitter"
                                class="mat-icon-20 material-icons-outlined"
                                *ngIf="inbox?.inbox_type === 'twitter'"
                            ></mat-icon>
                            <img
                                width="20"
                                height="20"
                                src="assets/images/microservice-icon/numbers.svg"
                                loading="lazy"
                                alt="Numbers"
                                *ngIf="inbox?.inbox_type === 'numbers'"
                            />
                            <mat-icon class="mat-icon-20 material-icons-outlined" *ngIf="inbox?.inbox_type === 'mail'"
                                >email</mat-icon
                            >
                        </span>
                        <span matLine class="menu-list-span menu-label">
                            {{ inbox?.name }}
                        </span>
                        <ng-container *ngIf="showTooltip">
                            <button
                                type="button"
                                mat-icon-button
                                class="filter-list-actions mat-default icon-btn-md"
                                (click)="deleteOneInbox(inbox?.id); $event.stopPropagation()"
                                [disableRipple]="true"
                            >
                                <mat-icon class="mat-icon-20 p-0 material-icons-outlined" aria-hidden="false"
                                    >delete</mat-icon
                                >
                            </button>
                        </ng-container>
                    </a>
                </mat-nav-list>
            </ng-container>
        </ng-container>
        <a
            mat-list-item
            href="javascript:void(0)"
            (click)="addOneInbox()"
            [matTooltip]="showTooltip ? '' : 'Add Inbox'"
            matTooltipPosition="right"
        >
            <span
                matListIcon
                class="p-0 font-12 fw-bolder text-capitalize text-dark-light"
                style="width: 20px; height: 20px; line-height: 20px"
            >
                <mat-icon class="mat-icon-20 text-primary">add</mat-icon>
            </span>
            <span matLine class="menu-list-span menu-label text-primary" style="font-size: 12px !important">
                Add Inbox
            </span>
        </a>
    </mat-nav-list>
</div>
