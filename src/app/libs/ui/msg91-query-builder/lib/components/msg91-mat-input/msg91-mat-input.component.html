<mat-form-field [appearance]="appearance" [ngClass]="class">
    <mat-label *ngIf="showLabel">{{ labelText }}</mat-label>
    <input
        matInput
        [placeholder]="placeholder"
        [formControl]="control"
        [type]="type"
        [matTooltip]="tooltipMessage"
        [matTooltipPosition]="tooltipPosition"
        [matTooltipDisabled]="tooltipDisabled"
    />
    <mat-icon *ngIf="icon?.isSuffix" class="material-icons-outlined mat-icon-18" matSuffix>{{ icon.string }}</mat-icon>
    <mat-icon *ngIf="icon?.isPrefix" class="material-icons-outlined mat-icon-18" matPrefix>{{ icon.string }}</mat-icon>
    <span *ngIf="icon?.spanString" class="position-relative font-18" matSuffix style="top: -2px">{{
        icon.string
    }}</span>
    <ng-container [ngTemplateOutlet]="error" *ngIf="showError && showErrorIntoMatFormField"> </ng-container>
</mat-form-field>
<ng-container [ngTemplateOutlet]="error" *ngIf="showError && !showErrorIntoMatFormField"> </ng-container>

<ng-template #error let-errors>
    <ng-container *ngIf="formControl?.touched">
        <ng-container *ngFor="let error of controlErrorsMessage || {} | keyvalue">
            <mat-error *ngIf="formControl.errors?.[error.key]">{{ error.value }}</mat-error>
        </ng-container>
    </ng-container>
</ng-template>
